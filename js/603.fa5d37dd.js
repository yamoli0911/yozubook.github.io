"use strict";(self["webpackChunkyozubook0_2"]=self["webpackChunkyozubook0_2"]||[]).push([[603],{8603:function(t,s,a){a.r(s),a.d(s,{default:function(){return j}});var o=a(6768),r=a(4232);const e=t=>((0,o.Qi)("data-v-146a2f5a"),t=t(),(0,o.jt)(),t),l=e((()=>(0,o.Lk)("h1",null,null,-1))),c={class:"container"},d=e((()=>(0,o.Lk)("br",null,null,-1))),i=e((()=>(0,o.Lk)("span",{class:"p-3 mt-3 h1"},[(0,o.Lk)("i",{class:"fa-solid fa-book"}),(0,o.eW)(" 書籍資訊")],-1))),n={class:"p-3"},u={class:""},p=e((()=>(0,o.Lk)("i",{class:"fa-solid fa-house"},null,-1))),k={class:"card mb-3",style:{"max-width":"1200px"}},h={class:"row g-0"},L={class:"col-md-4"},g=["src"],v={class:"col-md-8"},m={class:"card-body"},f={class:"card-title h1"},b={class:"card-text h5"},_={class:"card-text h5"},x={class:"card-text h5"},y={class:"tags"},C={class:"card-text h5"},I={class:"card-text h5"},W={class:"card-text h5"},w=e((()=>(0,o.Lk)("i",{class:"fa-solid fa-bookmark"},null,-1))),S=e((()=>(0,o.Lk)("i",{class:"fa-solid fa-cart-plus"},null,-1))),$={key:0,class:"spinner-grow spinner-grow-sm",role:"status"},z=e((()=>(0,o.Lk)("span",{class:"visually-hidden"},"Loading...",-1))),F=[z],J=e((()=>(0,o.Lk)("hr",null,null,-1))),N={class:"card-text"},O=e((()=>(0,o.Lk)("span",{class:"h5"},[(0,o.eW)("作品描述"),(0,o.Lk)("br"),(0,o.Lk)("br")],-1)));function D(t,s,a,e,z,D){const E=(0,o.g2)("Loading"),Q=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(E,{active:z.isLoading},null,8,["active"]),l,(0,o.Lk)("div",c,[d,i,(0,o.Lk)("div",n,[(0,o.Lk)("span",u,[(0,o.bF)(Q,{class:"router-link",to:"/"},{default:(0,o.k6)((()=>[p,(0,o.eW)(" 首頁 ")])),_:1}),(0,o.eW)("/ "+(0,r.v_)(z.product.title),1)])]),(0,o.Lk)("div",k,[(0,o.Lk)("div",h,[(0,o.Lk)("div",L,[(0,o.Lk)("img",{src:z.product.imageUrl,class:"img-fluid rounded-start",alt:"..."},null,8,g)]),(0,o.Lk)("div",v,[(0,o.Lk)("div",m,[(0,o.Lk)("h5",f,(0,r.v_)(z.product.title),1),(0,o.Lk)("p",b,"作者: "+(0,r.v_)(z.product.creator),1),(0,o.Lk)("p",_,"譯者: "+(0,r.v_)(z.product.translator),1),(0,o.Lk)("p",x,[(0,o.eW)("類型: "),(0,o.Lk)("span",y,(0,r.v_)(D.tostring(z.product.booktag)),1)]),(0,o.Lk)("p",C,"出版社: "+(0,r.v_)(z.product.publishing),1),(0,o.Lk)("p",I,"出版日期: "+(0,r.v_)(z.product.bookdate),1),(0,o.Lk)("p",W,"新台幣售價: "+(0,r.v_)(z.product.price)+" 元 ",1),(0,o.Lk)("button",{onClick:s[0]||(s[0]=t=>D.staredData(z.product)),class:(0,r.C4)(D.starColor(z.product))},[w,(0,o.eW)(" 加入收藏")],2),(0,o.Lk)("button",{class:"title-bg-color",onClick:s[1]||(s[1]=t=>D.addCart(z.product.id))},[S,(0,o.eW)(" 加入購物車 "),z.status.loadingItem===z.product.id?((0,o.uX)(),(0,o.CE)("div",$,F)):(0,o.Q3)("",!0)]),J,(0,o.Lk)("p",N,[O,(0,o.eW)(" "+(0,r.v_)(z.product.descripiton),1)])])])])])])],64)}a(4114);var E={data(){return{product:{},isLoading:!1,stared:JSON.parse(localStorage.getItem("stared"))||[],status:{loadingItem:""}}},methods:{tostring(t){let s="";return t?s=t.toString():t="",s},starColor(t){const s=this;let a=!1;return a=s.stared.some((s=>s.title===t.title)),a?"savenow":""},staredData(t){const s=this;let a=!1;if(a=s.stared.some((s=>s.title===t.title)),a)return s.stared=s.stared.filter((s=>s.title!==t.title)),void localStorage.setItem("stared",JSON.stringify(s.stared));s.stared.push(t),localStorage.setItem("stared",JSON.stringify(s.stared))},addCart(t){const s=this;s.status.loadingItem=t;const a="https://vue3-course-api.hexschool.io/api/yozubook011/cart",o={product_id:t,qty:1};this.$http.post(a,{data:o}).then((t=>{s.status.loadingItem="",console.log(t),this.$emitter.emit("sendProduct",t.data)}))}},created(){const t=this;let s=this.$route.params.id;t.isLoading=!0;const a=`https://vue3-course-api.hexschool.io/api/yozubook011/product/${s}`;this.$http.get(a).then((s=>{s.data.success?(console.log(s.data.product),t.product=s.data.product,t.isLoading=!1):alert("尚未得到")}))}},Q=a(1241);const X=(0,Q.A)(E,[["render",D],["__scopeId","data-v-146a2f5a"]]);var j=X}}]);
//# sourceMappingURL=603.fa5d37dd.js.map