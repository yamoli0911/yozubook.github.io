"use strict";(self["webpackChunkyozubook0_2"]=self["webpackChunkyozubook0_2"]||[]).push([[743],{1743:function(s,o,e){e.r(o),e.d(o,{default:function(){return w}});var t=e(6768),n=e(5130);const r={class:"container mt-5"},a={class:"row justify-content-center"},u={class:"col-md-6"},c=(0,t.Lk)("h1",{class:"h3 mb-3 font-weight-normal"},"管理者登入",-1),i={class:"mb-2"},l=(0,t.Lk)("label",{for:"inputEmail",class:"sr-only"},"Email address",-1),d={class:"mb-2"},h=(0,t.Lk)("label",{for:"inputPassword",class:"sr-only"},"Password",-1),p={class:"text-end mt-4"};function m(s,o,e,m,k,b){return(0,t.uX)(),(0,t.CE)("div",r,[(0,t.Lk)("form",a,[(0,t.Lk)("div",u,[c,(0,t.Lk)("div",i,[l,(0,t.bo)((0,t.Lk)("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"Email address",required:"",autofocus:"","onUpdate:modelValue":o[0]||(o[0]=s=>k.user.username=s)},null,512),[[n.Jo,k.user.username]])]),(0,t.Lk)("div",d,[h,(0,t.bo)((0,t.Lk)("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"Password",required:"","onUpdate:modelValue":o[1]||(o[1]=s=>k.user.password=s)},null,512),[[n.Jo,k.user.password]])]),(0,t.Lk)("div",p,[(0,t.Lk)("button",{class:"btn btn-lg btn-primary btn-block",type:"submit",onClick:o[2]||(o[2]=(...s)=>b.signIn&&b.signIn(...s))},"登入")])])])])}e(4114);var k={data(){return{user:{username:"",password:""}}},methods:{signIn(){console.log("login");const s="https://vue3-course-api.hexschool.io/admin/signin";console.log(s),this.$http.post(s,this.user).then((s=>{const{token:o,expired:e}=s.data;document.cookie=`hexToken=${o};expires=${new Date(e)};`,s.data.success&&this.$router.push("/dashboard/products")}))}},created(){const s=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${s}`;const o="https://vue3-course-api.hexschool.io/api/user/check";this.$http.post(o,this.user).then((s=>{console.log(s),s.data.success?this.$router.push("/Dashboard/Products"):this.$router.push("/login")}))}},b=e(1241);const f=(0,b.A)(k,[["render",m]]);var w=f}}]);
//# sourceMappingURL=743.8f4948db.js.map