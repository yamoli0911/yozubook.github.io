{"version":3,"file":"js/603.fa5d37dd.js","mappings":"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","sources":["webpack://yozubook0.2/./src/views/front/Book.vue","webpack://yozubook0.2/./src/views/front/Book.vue?71d8"],"sourcesContent":["<template>\n\n <Loading :active=\"isLoading\" ></Loading>\n <h1>  </h1>\n <div class=\"container \">\n   <br>\n   <span class=\"p-3 mt-3 h1\">  <i class=\"fa-solid fa-book\"></i> 書籍資訊</span>\n   <div class=\"p-3\"><span class=\"\">  <router-link class=\"router-link\" to=\"/\"> <i class=\"fa-solid fa-house\"></i> 首頁 </router-link>/ {{product.title}}</span></div>\n   \n    <div class=\"card mb-3 \" style=\"max-width: 1200px;\">\n     <div class=\"row g-0\">\n       <div class=\"col-md-4\">\n         <img :src=\"product.imageUrl\" class=\"img-fluid rounded-start\" alt=\"...\">\n       </div>\n       <div class=\"col-md-8 \">\n\n            <div class=\"card-body\">\n              <h5 class=\"card-title h1\">{{ product.title }}</h5>\n              <p class=\"card-text h5\">作者: {{ product.creator }} </p>\n              <p class=\"card-text h5\">譯者: {{ product.translator }} </p>\n              <p class=\"card-text h5 \">類型: <span class=\"tags\">{{ tostring(product.booktag) }}</span>  </p>\n              <p class=\"card-text h5\">出版社: {{ product.publishing }} </p>\n               <p class=\"card-text h5\">出版日期: {{ product.bookdate}} </p>\n               <p class=\"card-text h5\">新台幣售價: {{ product.price}} 元 </p>\n\n               <button @click=\"staredData(product)\" :class=\"starColor(product)\"><i class=\"fa-solid fa-bookmark\"></i> 加入收藏</button> \n               <button class=\"title-bg-color\" @click=\"addCart(product.id)\" >\n                <i class=\"fa-solid fa-cart-plus\"></i> 加入購物車 \n                 <div v-if=\"status.loadingItem === product.id\"  class=\"spinner-grow spinner-grow-sm\" role=\"status\">\n         <span class=\"visually-hidden\">Loading...</span>\n    </div>\n                </button>\n              <hr>\n           \n             \n             <p class=\"card-text \"><span class=\"h5\">作品描述<br><br></span> {{ product.descripiton}} </p>\n            </div>\n     \n       </div>\n     </div>\n   </div>\n </div>\n</template>\n\n<style scoped>\n .card-body{\n   display: block;\n }\n button{\n  border: none;\n  margin-left: 10px;\n  padding: 5px 10px;\n }\n .addcart{\n   background: #000;\n }\n\n</style>\n<script>\n\n\nexport default {\n \n    data(){\n     return{\n        product:{},\n        isLoading:false,\n         stared: JSON.parse(localStorage.getItem(\"stared\")) || [],\n         status:{\n                loadingItem:'',//對應品項ID\n            },\n     }\n    },\n    methods:{\n   tostring(item){\n    let text =\"\";\n    if(!item){\n      item =\"\";\n    }else{\n    text = item.toString();\n    }\n    \n    return  text;\n  },\n    // 星星顏色顯示\n        \n    starColor(item) {\n      const vm = this;\n      let staredCompare = false;\n      staredCompare = vm.stared.some((it) => it.title === item.title);\n      if (staredCompare) {\n        return \"savenow\";\n      }\n      return \"\";\n    },\n        // 增加或移除關注漫畫資料\n    staredData(item) {\n        \n       const vm = this;\n          let isExit = false;\n          isExit = vm.stared.some((it) => it.title === item.title)\n          //假如已經存在就移除\n          if(isExit){\n             vm.stared = vm.stared.filter((it) => it.title !== item.title);\n             localStorage.setItem(\"stared\", JSON.stringify(vm.stared));\n             return;\n          }else{\n            vm.stared.push(item);\n          }\n       \n          // localStorage 儲存上次關注的漫畫\n          localStorage.setItem(\"stared\", JSON.stringify(vm.stared));\n    },\n      addCart(id){\n             const vm = this;\n             vm.status.loadingItem = id;\n            // 增添加入購物車的api  cart\n             const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n             //使用接收的id 定義資料與數量\n             const cart = {\n                 product_id: id, //傳進來的目標id\n                 qty: 1 ,//數量\n             };\n             \n             this.$http.post(api,{ data:cart }).then((res)=>{\n                vm.status.loadingItem = \"\";\n                 console.log(res);\n                 this.$emitter.emit('sendProduct',res.data);\n                 //前面是自定義事件名稱,後面是參數\n             })\n        },\n    },\n     created(){\n      const vm = this;\n      let seed = this.$route.params.id;\n      vm.isLoading = true;\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${seed}`;\n\n             this.$http.get(api).then((res)=>{\n                \n                 if(res.data.success){\n                    console.log(res.data.product);\n                   vm.product = res.data.product;\n                    vm.isLoading = false;\n                 }\n                 else{\n                    alert(\"尚未得到\");\n                 }\n             })\n    }\n}\n</script>\n","import { render } from \"./Book.vue?vue&type=template&id=146a2f5a&scoped=true\"\nimport script from \"./Book.vue?vue&type=script&lang=js\"\nexport * from \"./Book.vue?vue&type=script&lang=js\"\n\nimport \"./Book.vue?vue&type=style&index=0&id=146a2f5a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-146a2f5a\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_createTextVNode","style","key","role","_hoisted_25","_createElementBlock","_Fragment","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_component_router_link","to","default","_withCtx","_hoisted_7","_","_toDisplayString","product","title","_hoisted_8","_hoisted_9","_hoisted_10","src","imageUrl","alt","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","creator","_hoisted_16","translator","_hoisted_17","_hoisted_18","$options","tostring","booktag","_hoisted_19","publishing","_hoisted_20","bookdate","_hoisted_21","price","onClick","_cache","$event","staredData","_normalizeClass","starColor","_hoisted_22","addCart","id","_hoisted_23","status","loadingItem","_hoisted_24","_hoisted_26","_createCommentVNode","_hoisted_27","_hoisted_28","_hoisted_29","descripiton","data","stared","JSON","parse","localStorage","getItem","methods","item","text","toString","vm","this","staredCompare","some","it","isExit","filter","setItem","stringify","push","api","cart","product_id","qty","$http","post","then","res","console","log","$emitter","emit","created","seed","$route","params","get","success","alert","__exports__","render"],"sourceRoot":""}