{"version":3,"file":"js/425.ef0d78e7.js","mappings":"6MACSA,MAAM,mC,GAEJA,MAAM,sB,GACXC,EAAAA,EAAAA,IAIQ,eAHRA,EAAAA,EAAAA,IAAW,UAAP,OACJA,EAAAA,EAAAA,IAAW,UAAP,OACJA,EAAAA,EAAAA,IAAW,UAAP,QAAE,G,GAMAD,MAAM,Y,GAKVC,EAAAA,EAAAA,IAAwC,MAApCC,QAAQ,IAAIF,MAAM,YAAW,MAAE,G,GAC/BA,MAAM,Y,GAITA,MAAM,U,GAGJA,MAAM,S,GAGTC,EAAAA,EAAAA,IAA0B,MAAtBE,MAAM,OAAM,SAAK,G,GAIrBF,EAAAA,EAAAA,IAAW,UAAP,MAAE,G,GAINA,EAAAA,EAAAA,IAAc,UAAV,SAAK,G,GAITA,EAAAA,EAAAA,IAAc,UAAV,SAAK,G,GAITA,EAAAA,EAAAA,IAAa,UAAT,QAAI,G,GAIRA,EAAAA,EAAAA,IAAa,UAAT,QAAI,G,GAGAD,MAAM,gB,GAKbA,MAAM,Y,GACTC,EAAAA,EAAAA,IAA6C,UAArCD,MAAM,kBAAiB,SAAK,G,GAApCI,G,0CAzDFC,EAAAA,EAAAA,IA4DE,MA5DFC,EA4DE,EA3DJL,EAAAA,EAAAA,IA0DO,QA1DDD,MAAM,WAAYO,SAAMC,EAAA,KAAAA,EAAA,IAFhCC,EAAAA,EAAAA,KAAAC,GAE0CC,EAAAC,YAAQ,e,EAC9CX,EAAAA,EAAAA,IAmBQ,QAnBRY,EAmBQ,CAlBNC,GAKAb,EAAAA,EAAAA,IAMQ,6BALRI,EAAAA,EAAAA,IAIKU,EAAAA,GAAA,MAdXC,EAAAA,EAAAA,IAU0BC,EAAAC,eAARC,K,WAAZd,EAAAA,EAAAA,IAIK,MAJ+Be,IAAKD,EAAKE,I,EAC5CpB,EAAAA,EAAAA,IAA+B,WAAAqB,EAAAA,EAAAA,IAAzBH,EAAKI,QAAQC,OAAK,IACxBvB,EAAAA,EAAAA,IAAqB,WAAAqB,EAAAA,EAAAA,IAAfH,EAAKM,KAAG,IACdxB,EAAAA,EAAAA,IAAgD,KAAhDyB,GAAgDJ,EAAAA,EAAAA,IAAzBH,EAAKI,QAAQI,OAAK,Q,SAG3C1B,EAAAA,EAAAA,IAKQ,eAJRA,EAAAA,EAAAA,IAGK,WAFH2B,GACA3B,EAAAA,EAAAA,IAAyC,KAAzC4B,GAAyCP,EAAAA,EAAAA,IAAlBL,EAAAa,MAAMC,OAAK,UAItC9B,EAAAA,EAAAA,IAEM,MAFN+B,EAEM,EAzBVC,EAAAA,EAAAA,IAuBwB,YAAQX,EAAAA,EAAAA,IAAEL,EAAAa,MAAMT,IAAI,IACtC,IAAApB,EAAAA,EAAAA,IAA4D,UAApDD,MAAM,WAAYkC,QAAK1B,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAwB,aAAY,aAE/ClC,EAAAA,EAAAA,IA8BQ,QA9BRmC,EA8BQ,EA7BNnC,EAAAA,EAAAA,IA4BQ,eA3BRA,EAAAA,EAAAA,IAGK,WAFHoC,GACApC,EAAAA,EAAAA,IAA6B,WAAAqB,EAAAA,EAAAA,IAAvBL,EAAAa,MAAMQ,KAAKC,OAAK,MAExBtC,EAAAA,EAAAA,IAGK,WAFHuC,GACAvC,EAAAA,EAAAA,IAA4B,WAAAqB,EAAAA,EAAAA,IAAtBL,EAAAa,MAAMQ,KAAKG,MAAI,MAEvBxC,EAAAA,EAAAA,IAGK,WAFHyC,GACAzC,EAAAA,EAAAA,IAA2B,WAAAqB,EAAAA,EAAAA,IAArBL,EAAAa,MAAMQ,KAAKK,KAAG,MAEtB1C,EAAAA,EAAAA,IAGK,WAFH2C,GACA3C,EAAAA,EAAAA,IAA+B,WAAAqB,EAAAA,EAAAA,IAAzBL,EAAAa,MAAMQ,KAAKO,SAAO,MAEzB5C,EAAAA,EAAAA,IAGI,WAFH6C,GACA7C,EAAAA,EAAAA,IAA2B,WAAAqB,EAAAA,EAAAA,IAArBL,EAAAa,MAAMQ,KAAKS,KAAG,MAEtB9C,EAAAA,EAAAA,IAMK,WALH+C,GACA/C,EAAAA,EAAAA,IAGK,qBAFHA,EAAAA,EAAAA,IAA+B,YAAX,OAAI,aAATgB,EAAA8B,QAAG,SAClB9C,EAAAA,EAAAA,IAAoD,OAApDgD,EAAyC,OAAI,YAAThC,EAAA8B,gBAAG,SAK7C9C,EAAAA,EAAAA,IAEM,MAFNiD,EAzDJC,EAAA,aAyDmClC,EAAA8B,QAAG,K,CAQnC,OACKK,IAAAA,GACG,MAAM,CACHtB,MAAM,CACHQ,KAAK,CAAC,GAETe,QAAQ,GACRC,WAAU,EACVpC,cAAc,GACd6B,KAAI,EAEV,EACAQ,QAAQ,CACJpB,QAAAA,GAEGqB,UAAUC,UAAUC,UAAUC,KAAKN,SAASO,MAAK,KAChDC,MAAM,OAAO,GAGjB,EACAC,QAAAA,GACI,MAAMC,EAAO,8DAAmEJ,KAAKN,UACrFM,KAAKK,MAAMC,IAAIF,GAAKH,MAAMM,IACnBA,EAAId,KAAKe,UACRR,KAAK7B,MAAQoC,EAAId,KAAKtB,MACtB6B,KAAKN,QAAUM,KAAK7B,MAAMT,GAE1BsC,KAAKzC,cAAgBkD,OAAOC,KAAKV,KAAK7B,MAAMwC,UAAUC,KAAKC,GAAMb,KAAK7B,MAAMwC,SAASE,KAEzF,GAER,EACA5D,QAAAA,GACI,MAAMmD,EAAO,4DAAiEJ,KAAKN,UACnFM,KAAKK,MAAMS,KAAKV,GAAKH,MAAMM,IACpBA,EAAId,KAAKe,UACTR,KAAKG,WACLH,KAAKZ,KAAM,EACX2B,QAAQC,IAAIT,EAAId,MACnB,GAER,GAEJwB,OAAAA,GACIjB,KAAKN,QAAUM,KAAKkB,OAAOC,OAAOzB,QAElCM,KAAKG,UACT,G,UC3GR,MAAMiB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://yozubook0.2/./src/views/front/OrderOut.vue","webpack://yozubook0.2/./src/views/front/OrderOut.vue?4714"],"sourcesContent":["<template>\n    <div class=\"my-5 row justify-content-center\">\n  <form class=\"col-md-6\" @submit.prevent=\"payOrder()\">\n    <table class=\"table align-middle\">\n      <thead>\n      <th>品名</th>\n      <th>數量</th>\n      <th>單價</th>\n      </thead>\n      <tbody>\n      <tr  v-for=\"item in orderProducts\" :key=\"item.id\">\n        <td>{{item.product.title}}</td>\n        <td>{{item.qty}}</td>\n        <td class=\"text-end\">{{item.product.price}}</td>\n      </tr>\n      </tbody>\n      <tfoot>\n      <tr >\n        <td colspan=\"2\" class=\"text-end\">總計</td>\n        <td class=\"text-end\">{{order.total}}</td>\n      </tr>\n      </tfoot>\n    </table>\n    <div class=\"col-12\">您的訂單編號為:{{order.id}}\n      <button class=\"bg01 p-2\" @click=\"copyText()\">複製訂單編號</button>\n    </div>\n    <table class=\"table\">\n      <tbody>\n      <tr>\n        <th width=\"100\">Email</th>\n        <td>{{order.user.email}}</td>\n      </tr>\n      <tr>\n        <th>姓名</th>\n        <td>{{order.user.name}}</td>\n      </tr>\n      <tr>\n        <th>收件人電話</th>\n        <td>{{order.user.tel}}</td>\n      </tr>\n      <tr>\n        <th>收件人地址</th>\n        <td>{{order.user.address}}</td>\n      </tr>\n       <tr>\n        <th>付款方式</th>\n        <td>{{order.user.pay}}</td>\n      </tr>\n      <tr>\n        <th>付款狀態</th>\n        <td>\n          <span v-show=\"!pay\">尚未付款</span>\n          <span class=\"text-success\"  v-show=\"pay\">付款完成</span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n    <div class=\"text-end\" v-show=\"!pay\">\n      <button class=\"btn btn-danger\">確認付款去</button>\n    </div>\n  </form>\n</div>\n</template>\n\n<script>\n   export default {\n        data(){\n           return{\n              order:{\n                 user:{},\n              },\n              orderId:'',\n              isLoading:false,\n              orderProducts:[],\n              pay:false,\n           } \n        },\n        methods:{\n            copyText(){\n              const vm = this;\n               navigator.clipboard.writeText(this.orderId).then(() => {\n                alert(\"複製成功\")\n                   \n              })\n            },\n            getOrder(){\n                const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\n                this.$http.get(api).then((res)=>{\n                    if(res.data.success){\n                        this.order = res.data.order;\n                        this.orderId = this.order.id;\n                        // 物件轉成陣列\n                        this.orderProducts = Object.keys(this.order.products).map((i) => this.order.products[i])\n                    \n                    }\n                })  \n            },\n            payOrder(){\n                const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\n                this.$http.post(api).then((res)=>{\n                    if(res.data.success){                      \n                       this.getOrder();\n                       this.pay = true;\n                       console.log(res.data);\n                    }\n                })  \n            }\n        },\n        created(){\n            this.orderId = this.$route.params.orderId;\n           \n            this.getOrder();\n        }\n   }\n</script>\n","import { render } from \"./OrderOut.vue?vue&type=template&id=c6618e64\"\nimport script from \"./OrderOut.vue?vue&type=script&lang=js\"\nexport * from \"./OrderOut.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","colspan","width","_hoisted_17","_createElementBlock","_hoisted_1","onSubmit","_cache","_withModifiers","$event","$options","payOrder","_hoisted_2","_hoisted_3","_Fragment","_renderList","$data","orderProducts","item","key","id","_toDisplayString","product","title","qty","_hoisted_4","price","_hoisted_5","_hoisted_6","order","total","_hoisted_7","_createTextVNode","onClick","copyText","_hoisted_8","_hoisted_9","user","email","_hoisted_10","name","_hoisted_11","tel","_hoisted_12","address","_hoisted_13","pay","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_18","data","orderId","isLoading","methods","navigator","clipboard","writeText","this","then","alert","getOrder","api","$http","get","res","success","Object","keys","products","map","i","post","console","log","created","$route","params","__exports__","render"],"sourceRoot":""}