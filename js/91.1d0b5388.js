"use strict";(self["webpackChunkyozubook0_2"]=self["webpackChunkyozubook0_2"]||[]).push([[91],{6091:function(t,e,a){a.r(e),a.d(e,{default:function(){return it}});var o=a(6768),l=a(4232),r=a(5130);const d=t=>((0,o.Qi)("data-v-ceb5683e"),t=t(),(0,o.jt)(),t),s={class:"container mt-5"},n={class:"row"},i={class:"col-md-6"},c={class:"card text-cente cartbox"},u=d((()=>(0,o.Lk)("div",{class:"card-header text-center h3"}," 購物車 ",-1))),p={class:"card-body"},m={class:"card"},b={class:"card-body product"},k={class:"col-2 d-flex justify-content-end product-img-wrap"},v=["src"],L={class:"cart-text col-8"},f={class:"row op1"},h={class:"row col-12"},y={class:"input-group mb-3 col-6"},C=["onClick","disabled"],g=["onChange","onUpdate:modelValue"],x=["onClick","disabled"],q=d((()=>(0,o.Lk)("div",null,[(0,o.Lk)("i",{class:"fa-solid fa-trash"}),(0,o.eW)(" 刪除 "),(0,o.Lk)("br")],-1))),I=d((()=>(0,o.Lk)("hr",null,null,-1))),w=d((()=>(0,o.Lk)("hr",null,null,-1))),S={class:"input-group mb-3 container"},_=["placeholder"],U=d((()=>(0,o.Lk)("br",null,null,-1))),V={class:"container mb-3 h5 text-end pt-2"},J={key:0,class:"container coupon-text h4 text-end mb-2"},E=d((()=>(0,o.Lk)("br",null,null,-1))),O={class:"col-md-5 mt-3"},z={class:"row mt-3"},X={class:"col-10"},j=d((()=>(0,o.Lk)("label",{for:"validationServer01",class:"form-label"},"Email*",-1))),A={class:"row mt-2"},F={class:"col-md-6"},Q=d((()=>(0,o.Lk)("label",{for:"validationServer01",class:"form-label"},"訂購人姓名*",-1))),R={class:"col-md-6"},T=d((()=>(0,o.Lk)("label",{for:"validationServer01",class:"form-label"},"訂購人電話*",-1))),H={class:"row mt-2"},K={class:"col-10"},W=d((()=>(0,o.Lk)("label",{for:"validationServer04",class:"form-label"},"付款方式",-1))),B=d((()=>(0,o.Lk)("option",{selected:"",disabled:"",value:""},"請選擇付款方式",-1))),D=d((()=>(0,o.Lk)("option",{value:"信用卡"},"信用卡",-1))),G=d((()=>(0,o.Lk)("option",{value:"現金"},"現金",-1))),M=[B,D,G],N={class:"row mt-3"},P={class:"col-10"},Y=d((()=>(0,o.Lk)("label",{for:"validationServer01",class:"form-label"},"訂購地址",-1))),Z={class:"row mt-3"},tt={class:"col-10"},et=d((()=>(0,o.Lk)("label",{for:"validationTextarea",class:"form-label"},"備註 ",-1))),at={class:"m-3 d-flex justify-content-center"};function ot(t,e,a,d,$,B){return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.Lk)("div",n,[(0,o.Lk)("div",i,[(0,o.Lk)("div",c,[u,(0,o.Lk)("div",p,[(0,o.Lk)("div",m,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.cartdata,(t=>((0,o.uX)(),(0,o.CE)("div",b,[(0,o.Lk)("div",k,[(0,o.Lk)("img",{class:"product-img",src:t.product.imageUrl,alt:""},null,8,v)]),(0,o.Lk)("div",L,[(0,o.Lk)("div",f,[(0,o.Lk)("div",h,[(0,o.Lk)("span",null,(0,l.v_)(t.product.title),1),(0,o.Lk)("span",null,(0,l.v_)(t.total)+"元",1),(0,o.Lk)("div",y,[(0,o.Lk)("button",{class:"btn btn-outline-secondary",onClick:e=>B.updataCart(t,"reduce"),type:"button",id:"button-addon1",disabled:t.id===$.status.loadingItem},"-",8,C),(0,o.bo)((0,o.Lk)("input",{type:"number",onChange:e=>B.updataCart(t,""),"onUpdate:modelValue":e=>t.qty=e,class:"form-control",placeholder:"1","aria-label":"Example text with button addon","aria-describedby":"button-addon1"},null,40,g),[[r.Jo,t.qty]]),(0,o.Lk)("button",{class:"btn btn-outline-secondary",onClick:e=>B.updataCart(t,"plus"),type:"button",id:"button-addon1",disabled:t.id===$.status.loadingItem},"+",8,x)]),q])])]),I])))),256)),w,(0,o.Lk)("div",S,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>$.getInput=t),class:"form-control",placeholder:0!=t.couponCode.length?"已輸入折價卷":"輸入折價卷","aria-label":"Recipient's username","aria-describedby":"button-addon2"},null,8,_),[[r.Jo,$.getInput]]),(0,o.Lk)("button",{class:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:e[1]||(e[1]=e=>t.addCouponCode($.getInput))},"套用折價卷"),U]),(0,o.Lk)("div",V," 小計 "+(0,l.v_)(t.total)+"元",1),0!=t.couponCode.length?((0,o.uX)(),(0,o.CE)("div",J,"折購價 "+(0,l.v_)(t.final_total)+"元",1)):(0,o.Q3)("",!0)])])]),E]),(0,o.Lk)("div",O,[(0,o.Lk)("form",{class:"row g-3 bg-light",onSubmit:e[9]||(e[9]=(...t)=>B.createOrder&&B.createOrder(...t))},[(0,o.Lk)("div",z,[(0,o.Lk)("div",X,[j,(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":e[2]||(e[2]=t=>$.form.user.email=t),class:"form-control",id:"validationServer01",value:"請輸入email",required:""},null,512),[[r.Jo,$.form.user.email]])])]),(0,o.Lk)("div",A,[(0,o.Lk)("div",F,[Q,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>$.form.user.name=t),class:"form-control",id:"validationServer01",value:"請輸入姓名",required:""},null,512),[[r.Jo,$.form.user.name]])]),(0,o.Lk)("div",R,[T,(0,o.bo)((0,o.Lk)("input",{type:"tel","onUpdate:modelValue":e[4]||(e[4]=t=>$.form.user.tel=t),class:"form-control",id:"validationServer01",value:"請輸入電話",required:""},null,512),[[r.Jo,$.form.user.tel]])])]),(0,o.Lk)("div",H,[(0,o.Lk)("div",K,[W,(0,o.bo)((0,o.Lk)("select",{class:"form-select",id:"validationServer04","onUpdate:modelValue":e[5]||(e[5]=t=>$.form.user.pay=t),"aria-describedby":"validationServer04Feedback",required:""},M,512),[[r.u1,$.form.user.pay]])])]),(0,o.Lk)("div",N,[(0,o.Lk)("div",P,[Y,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=t=>$.form.user.address=t),class:"form-control",id:"validationServer01",value:"訂購地址",required:""},null,512),[[r.Jo,$.form.user.address]])])]),(0,o.Lk)("div",Z,[(0,o.Lk)("div",tt,[et,(0,o.bo)((0,o.Lk)("textarea",{class:"form-control","onUpdate:modelValue":e[7]||(e[7]=t=>$.form.user.text=t),id:"validationTextarea",placeholder:"Required example textarea",required:""},null,512),[[r.Jo,$.form.user.text]])])]),(0,o.Lk)("div",at,[(0,o.Lk)("button",{class:"col-10",onClick:e[8]||(e[8]=t=>B.createOrder())},"送出訂單")])],32)])])])}a(4114);var lt=a(3367),rt=a(1543),dt={data(){return{getInput:"",orderId:"",status:{loadingItem:""},form:{user:{name:"",email:"",tel:"",address:"",pay:""},message:""}}},watch:{couponCode(){this.getCart()}},computed:{...(0,lt.aH)(rt.A,["couponCode","couponInput","final_total","cartdata","total"])},methods:{...(0,lt.i0)(rt.A,["addCouponCode","getCart"]),updata(t){t.qty>=1?t.qty--:t.qty,this.updataCart(t)},openCart(){$(".cartbox").toggle()},createOrder(){const t="https://vue3-course-api.hexschool.io/api/yozubook011/order",e=this.form;console.log(e);const a=this;this.$http.post(t,{data:e}).then((t=>{this.orderId=t.data.orderId,this.$router.push(`/OrderOut/${a.orderId}`)}))},updataCart(t,e){const a=this;"reduce"===e&&(t.qty>=1?t.qty--:t.qty),"plus"===e&&t.qty++,a.status.loadingItem=!0;const o=`https://vue3-course-api.hexschool.io/api/yozubook011/cart/${t.id}`,l={product_id:t.product_id,qty:t.qty};this.$http.put(o,{data:l}).then((t=>{this.getCart(),a.status.loadingItem=""}))}},created(){let t=this;this.$emitter.on("sendCoupon",(e=>{t.couponCode=e,alert(t.couponCode)})),this.getCart()}},st=a(1241);const nt=(0,st.A)(dt,[["render",ot],["__scopeId","data-v-ceb5683e"]]);var it=nt}}]);
//# sourceMappingURL=91.1d0b5388.js.map