"use strict";(self["webpackChunkyozubook0_2"]=self["webpackChunkyozubook0_2"]||[]).push([[425],{7425:function(t,r,e){e.r(r),e.d(r,{default:function(){return w}});var l=e(6768),o=e(5130),s=e(4232);const d={class:"my-5 row justify-content-center"},u={class:"table align-middle"},n=(0,l.Lk)("thead",null,[(0,l.Lk)("th",null,"品名"),(0,l.Lk)("th",null,"數量"),(0,l.Lk)("th",null,"單價")],-1),a={class:"text-end"},c=(0,l.Lk)("td",{colspan:"2",class:"text-end"},"總計",-1),k={class:"text-end"},i={class:"col-12"},h={class:"table"},L=(0,l.Lk)("th",{width:"100"},"Email",-1),p=(0,l.Lk)("th",null,"姓名",-1),b=(0,l.Lk)("th",null,"收件人電話",-1),y=(0,l.Lk)("th",null,"收件人地址",-1),v=(0,l.Lk)("th",null,"付款方式",-1),_=(0,l.Lk)("th",null,"付款狀態",-1),m={class:"text-success"},g={class:"text-end"},x=(0,l.Lk)("button",{class:"btn btn-danger"},"確認付款去",-1),f=[x];function I(t,r,e,x,I,C){return(0,l.uX)(),(0,l.CE)("div",d,[(0,l.Lk)("form",{class:"col-md-6",onSubmit:r[1]||(r[1]=(0,o.D$)((t=>C.payOrder()),["prevent"]))},[(0,l.Lk)("table",u,[n,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(I.orderProducts,(t=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",null,(0,s.v_)(t.product.title),1),(0,l.Lk)("td",null,(0,s.v_)(t.qty),1),(0,l.Lk)("td",a,(0,s.v_)(t.product.price),1)])))),128))]),(0,l.Lk)("tfoot",null,[(0,l.Lk)("tr",null,[c,(0,l.Lk)("td",k,(0,s.v_)(I.order.total),1)])])]),(0,l.Lk)("div",i,[(0,l.eW)("您的訂單編號為:"+(0,s.v_)(I.order.id)+" ",1),(0,l.Lk)("button",{class:"bg01 p-2",onClick:r[0]||(r[0]=t=>C.copyText())},"複製訂單編號")]),(0,l.Lk)("table",h,[(0,l.Lk)("tbody",null,[(0,l.Lk)("tr",null,[L,(0,l.Lk)("td",null,(0,s.v_)(I.order.user.email),1)]),(0,l.Lk)("tr",null,[p,(0,l.Lk)("td",null,(0,s.v_)(I.order.user.name),1)]),(0,l.Lk)("tr",null,[b,(0,l.Lk)("td",null,(0,s.v_)(I.order.user.tel),1)]),(0,l.Lk)("tr",null,[y,(0,l.Lk)("td",null,(0,s.v_)(I.order.user.address),1)]),(0,l.Lk)("tr",null,[v,(0,l.Lk)("td",null,(0,s.v_)(I.order.user.pay),1)]),(0,l.Lk)("tr",null,[_,(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("span",null,"尚未付款",512),[[o.aG,!I.pay]]),(0,l.bo)((0,l.Lk)("span",m,"付款完成",512),[[o.aG,I.pay]])])])])]),(0,l.bo)((0,l.Lk)("div",g,f,512),[[o.aG,!I.pay]])],32)])}var C={data(){return{order:{user:{}},orderId:"",isLoading:!1,orderProducts:[],pay:!1}},methods:{copyText(){navigator.clipboard.writeText(this.orderId).then((()=>{alert("複製成功")}))},getOrder(){const t=`https://vue3-course-api.hexschool.io/api/yozubook011/order/${this.orderId}`;this.$http.get(t).then((t=>{t.data.success&&(this.order=t.data.order,this.orderId=this.order.id,this.orderProducts=Object.keys(this.order.products).map((t=>this.order.products[t])))}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/yozubook011/pay/${this.orderId}`;this.$http.post(t).then((t=>{t.data.success&&(this.getOrder(),this.pay=!0,console.log(t.data))}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},O=e(1241);const $=(0,O.A)(C,[["render",I]]);var w=$}}]);
//# sourceMappingURL=425.ef0d78e7.js.map