(function(){"use strict";var t={286:function(t,a,e){var n=e(5130),o=e(3367),r=e(6768);function i(t,a,e,n,o,i){const l=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.Wv)(l)}var l=e(2908),s={components:{Navbar:l.A}},c=e(1241);const d=(0,c.A)(s,[["render",i]]);var u=d,p=e(1387);const f=[{path:"/",name:"frontview",component:()=>e.e(430).then(e.bind(e,3430)),children:[{path:"",component:()=>e.e(751).then(e.bind(e,1751))},{path:"Book/:id",component:()=>e.e(603).then(e.bind(e,8603))},{path:"BookView",component:()=>e.e(919).then(e.bind(e,8919))},{path:"Login",component:()=>e.e(743).then(e.bind(e,1743))},{path:"FavoriteView",component:()=>e.e(474).then(e.bind(e,1474))},{path:"OrderView",component:()=>e.e(590).then(e.bind(e,8590))},{path:"OrderCheck",component:()=>e.e(91).then(e.bind(e,6091))},{path:"OrderOut/:orderId",component:()=>e.e(425).then(e.bind(e,7425))}]},{path:"/Dashboard",name:"Dashboard",component:()=>e.e(732).then(e.bind(e,5732)),children:[{path:"products",component:()=>Promise.all([e.e(894),e.e(684)]).then(e.bind(e,3684))},{path:"DachOrder",component:()=>e.e(808).then(e.bind(e,6808))},{path:"DashVoucher",component:()=>Promise.all([e.e(894),e.e(259)]).then(e.bind(e,5259))}]}],b=(0,p.aE)({history:(0,p.Bt)(),routes:f});var h=b,v=e(8355),k=e(6942),g=e(1114),m=e(595),L=e(5756);const y=(0,m.A)(),C=(0,o.Ey)(),w=(0,n.Ef)(u);w.use(C),w.config.globalProperties.$emitter=y,w.use(k.A,v.A),w.use(h).use(g["default"]),w.component("Loading",L.A),w.mount("#app")},1543:function(t,a,e){var n=e(8355),o=e(3367);a.A=(0,o.nY)("cartStore",{state:()=>({couponCode:"",total:"",final_total:"",cartdata:""}),actions:{getCart(){const t=this,a="https://vue3-course-api.hexschool.io/api/yozubook011/cart";n.A.get(a).then((a=>{let e=a.data.data.carts;t.total=a.data.data.total,t.final_total=a.data.data.final_total,t.cartdata=e}))},addCouponCode(t){const a="https://vue3-course-api.hexschool.io/api/yozubook011/coupon",e={code:t};n.A.post(a,{data:e}).then((a=>{a.data.success&&(this.couponCode=t,this.getCart())}))}}})},2908:function(t,a,e){e.d(a,{A:function(){return It}});var n=e(6768),o=e(4232),r=e(5130),i=e.p+"img/logo.9a1d4c8a.jpg";const l=t=>((0,n.Qi)("data-v-47daeb82"),t=t(),(0,n.jt)(),t),s={class:"wrap"},c=l((()=>(0,n.Lk)("div",{class:"header bg01 w-100 p-2 text-center"},"本館首購8折優惠,各種漫畫任你挑選",-1))),d={class:"for-pc wrap-nav shadow-sm p-3 mb-2 bg-white rounded"},u={class:"content"},p=l((()=>(0,n.Lk)("a",{class:"navbar-brand logo",href:"#"},[(0,n.Lk)("img",{class:"logo-img p-1",src:i,alt:""}),(0,n.Lk)("span",null,"漫漫書店")],-1))),f={class:"navbar navbar-expand-lg navbar-light"},b={class:"container-fluid"},h={class:"collapse navbar-collapse",id:"navbarNav"},v={class:"navbar-nav"},k={class:"nav-item"},g=l((()=>(0,n.Lk)("i",{class:"fa-solid fa-house"},null,-1))),m=l((()=>(0,n.Lk)("span",null,"首頁",-1))),L={class:"nav-item"},y=l((()=>(0,n.Lk)("i",{class:"fa-solid fa-magnifying-glass"},null,-1))),C=l((()=>(0,n.Lk)("span",null,"書本查詢",-1))),w={class:"nav-item"},x=l((()=>(0,n.Lk)("i",{class:"fa-solid fa-bookmark"},null,-1))),_=l((()=>(0,n.Lk)("span",null,"我的收藏",-1))),O={class:"nav-item"},E=l((()=>(0,n.Lk)("i",{class:"fa-solid fa-file"},null,-1))),A=l((()=>(0,n.Lk)("span",null,"訂單查詢",-1))),j=l((()=>(0,n.Lk)("i",{class:"fa-solid fa-cart-shopping"},null,-1))),F=l((()=>(0,n.Lk)("span",null,"購物車",-1))),N=[j,F],S={class:"for-ph navbar navbar-light bg-light fixed-top"},q={class:"container-fluid"},P=l((()=>(0,n.Lk)("a",{class:"navbar-brand",href:"#"},[(0,n.Lk)("img",{class:"logo-img p-1",width:"50",src:i,alt:""}),(0,n.eW)(" 漫漫書店")],-1))),V={class:"d-flex"},I=l((()=>(0,n.Lk)("i",{class:"fa-solid fa-cart-shopping"},null,-1))),z=l((()=>(0,n.Lk)("span",null,null,-1))),B=[I,z],T=l((()=>(0,n.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNavbar","aria-controls":"offcanvasNavbar"},[(0,n.Lk)("span",{class:"navbar-toggler-icon"})],-1))),D={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel"},U=l((()=>(0,n.Lk)("div",{class:"offcanvas-header"},[(0,n.Lk)("h5",{class:"offcanvas-title",id:"offcanvasNavbarLabel"},"漫書店"),(0,n.Lk)("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1))),M={class:"offcanvas-body"},X={class:"navbar-nav justify-content-end flex-grow-1 pe-3"},W={class:"nav-item"},G=l((()=>(0,n.Lk)("i",{class:"fa-solid fa-house"},null,-1))),H=l((()=>(0,n.Lk)("span",null,"首頁",-1))),J={class:"nav-item"},K=l((()=>(0,n.Lk)("i",{class:"fa-solid fa-magnifying-glass"},null,-1))),Q=l((()=>(0,n.Lk)("span",null,"書本查詢",-1))),R={class:"nav-item"},Y=l((()=>(0,n.Lk)("i",{class:"fa-solid fa-bookmark"},null,-1))),Z=l((()=>(0,n.Lk)("span",null,"我的收藏",-1))),tt={class:"nav-item"},at=l((()=>(0,n.Lk)("i",{class:"fa-solid fa-file"},null,-1))),et=l((()=>(0,n.Lk)("span",null,"訂單查詢",-1))),nt={class:"card text-cente cartbox navbar-cart"},ot={class:"card-header text-center h3 bg01"},rt={class:"card-body"},it={class:"card"},lt={class:"col-12 text-end p-3"},st={class:"card-body product"},ct={class:"col-2 d-flex justify-content-end product-img-wrap"},dt=["src"],ut={class:"cart-text col-7"},pt={class:"row op1"},ft={class:"row col-12"},bt={class:"input-group mb-3 col-6"},ht=["onClick","disabled"],vt=["onChange","onUpdate:modelValue"],kt=["onClick","disabled"],gt=["onClick"],mt=l((()=>(0,n.Lk)("i",{class:"fa-solid fa-trash"},null,-1))),Lt=l((()=>(0,n.Lk)("br",null,null,-1))),yt=l((()=>(0,n.Lk)("hr",null,null,-1))),Ct=l((()=>(0,n.Lk)("hr",null,null,-1))),wt={class:"input-group mb-3 container"},xt=["placeholder"],_t=l((()=>(0,n.Lk)("br",null,null,-1))),Ot={class:"container mb-3 h5 text-end pt-2"},Et={key:0,class:"card-body d-flex justify-content-center"},At=l((()=>(0,n.Lk)("div",{class:"h4 text-center"},[(0,n.Lk)("i",{class:"fa-solid fa-triangle-exclamation"})],-1))),jt=l((()=>(0,n.Lk)("h5",null,"購書車內還沒有商品",-1)));function Ft(t,a,e,i,l,j){const F=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",s,[c,(0,n.Lk)("div",d,[(0,n.Lk)("div",u,[p,(0,n.Lk)("nav",f,[(0,n.Lk)("div",b,[(0,n.Lk)("div",h,[(0,n.Lk)("ul",v,[(0,n.Lk)("li",k,[(0,n.bF)(F,{class:"nav-link","aria-current":"page",to:"/"},{default:(0,n.k6)((()=>[g,m])),_:1})]),(0,n.Lk)("li",L,[(0,n.bF)(F,{class:"nav-link","aria-current":"page",to:"/bookview"},{default:(0,n.k6)((()=>[y,C])),_:1})]),(0,n.Lk)("li",w,[(0,n.bF)(F,{class:"nav-link","aria-current":"page",to:"/FavoriteView"},{default:(0,n.k6)((()=>[x,_])),_:1})]),(0,n.Lk)("li",O,[(0,n.bF)(F,{class:"nav-link","aria-current":"page",to:"/OrderView"},{default:(0,n.k6)((()=>[E,A])),_:1})]),(0,n.Lk)("li",{class:"nav-item cart",href:"#",onClick:a[0]||(a[0]=t=>j.openCart())},N)])])])])])]),(0,n.Lk)("nav",S,[(0,n.Lk)("div",q,[P,(0,n.Lk)("div",V,[(0,n.Lk)("li",{class:"nav-item cart",href:"#",onClick:a[1]||(a[1]=t=>j.openCart())},B),T]),(0,n.Lk)("div",D,[U,(0,n.Lk)("div",M,[(0,n.Lk)("ul",X,[(0,n.Lk)("li",W,[(0,n.bF)(F,{class:"nav-link active","aria-current":"page",to:"/"},{default:(0,n.k6)((()=>[G,H])),_:1})]),(0,n.Lk)("li",J,[(0,n.bF)(F,{class:"nav-link","aria-current":"page",to:"/bookview"},{default:(0,n.k6)((()=>[K,Q])),_:1})]),(0,n.Lk)("li",R,[(0,n.bF)(F,{class:"nav-link","aria-current":"page",to:"/FavoriteView"},{default:(0,n.k6)((()=>[Y,Z])),_:1})]),(0,n.Lk)("li",tt,[(0,n.bF)(F,{class:"nav-link","aria-current":"page",to:"/OrderView"},{default:(0,n.k6)((()=>[at,et])),_:1})])])])])])]),(0,n.Lk)("div",nt,[(0,n.Lk)("div",ot," 購物車 "+(0,o.v_)(t.text),1),(0,n.bo)((0,n.Lk)("div",rt,[(0,n.Lk)("div",it,[(0,n.Lk)("div",lt,[(0,n.Lk)("button",{class:"clear-cart",onClick:a[2]||(a[2]=t=>j.clearCart())},"清空購物車")]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.cartdata,(t=>((0,n.uX)(),(0,n.CE)("div",st,[(0,n.Lk)("div",ct,[(0,n.Lk)("img",{class:"product-img",src:t.product.imageUrl,alt:""},null,8,dt)]),(0,n.Lk)("div",ut,[(0,n.Lk)("div",pt,[(0,n.Lk)("div",ft,[(0,n.Lk)("span",null,(0,o.v_)(t.product.title),1),(0,n.Lk)("h5",null,(0,o.v_)(t.total)+"元",1),(0,n.Lk)("div",bt,[(0,n.Lk)("button",{class:"btn btn-outline-secondary",onClick:a=>j.updataCart(t,"reduce"),type:"button",id:"button-addon1",disabled:t.id===l.status.loadingItem},"-",8,ht),(0,n.bo)((0,n.Lk)("input",{type:"number",onChange:a=>j.updataCart(t,""),"onUpdate:modelValue":a=>t.qty=a,class:"form-control",placeholder:"1","aria-label":"Example text with button addon","aria-describedby":"button-addon1"},null,40,vt),[[r.Jo,t.qty]]),(0,n.Lk)("button",{class:"btn btn-outline-secondary",onClick:a=>j.updataCart(t,"plus"),type:"button",id:"button-addon1",disabled:t.id===l.status.loadingItem},"+",8,kt)]),(0,n.Lk)("a",{class:"denBtn",onClick:a=>j.delCart(t)},[mt,(0,n.eW)(" 刪除 "),Lt],8,gt)])])]),yt])))),256)),Ct,(0,n.Lk)("div",wt,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=t=>l.getinput=t),class:"form-control",placeholder:t.coupon_now?"已輸入折價卷":"輸入折價卷","aria-label":"Recipient's username","aria-describedby":"button-addon2"},null,8,xt),[[r.Jo,l.getinput]]),(0,n.Lk)("button",{class:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:a[4]||(a[4]=a=>t.addCouponCode(l.getinput))},"套用折價卷"),_t]),(0,n.Lk)("div",Ot," 小計 "+(0,o.v_)(t.total)+"元",1),(0,n.bo)((0,n.Lk)("div",{class:"container coupon-text h4 text-end mb-2"},"折購價 "+(0,o.v_)(t.final_total)+"元",513),[[r.aG,0!=t.couponCode.length]]),(0,n.Lk)("button",{class:"bg01 mb-3 container col-12 p-2",onClick:a[5]||(a[5]=t=>j.toCheckout())},"確認結帳")])],512),[[r.aG,0!=t.cartdata.length]]),0===t.cartdata.length?((0,n.uX)(),(0,n.CE)("div",Et,[(0,n.Lk)("div",null,[At,jt,(0,n.bF)(F,{class:"nav-link","aria-current":"page",to:"/BookView"},{default:(0,n.k6)((()=>[(0,n.Lk)("button",{onClick:a[6]||(a[6]=a=>t.morebook()),class:"bg01 mb-3 container col-12 p-2"},"查找更多漫畫")])),_:1})])])):(0,n.Q3)("",!0)])])}e(4114);var Nt=e(3367),St=e(1543),qt={inject:["toStatus"],data(){return{getinput:"",addCart:"",status:{loadingItem:""}}},watch:{addCart(){this.getCart()}},computed:{...(0,Nt.aH)(St.A,["couponCode","couponInput","final_total","cartdata","total"])},methods:{...(0,Nt.i0)(St.A,["addCouponCode","getCart"]),updata(t){t.qty>=1?t.qty--:t.qty,this.updataCart(t)},openCart(){$(".navbar-cart").toggle()},toCheckout(){this.$router.push("/OrderCheck"),$(".navbar-cart").hide()},delCart(t){const a=this,e=`https://vue3-course-api.hexschool.io/api/yozubook011/cart/${t.id}`;this.$http.delete(e).then((t=>{a.cartdata="",a.getCart()}))},updataCart(t,a){const e=this;"reduce"===a&&(t.qty>=1?t.qty--:t.qty),"plus"===a&&t.qty++,e.status.loadingItem=!0;const n=`https://vue3-course-api.hexschool.io/api/yozubook011/cart/${t.id}`,o={product_id:t.product_id,qty:t.qty};this.$http.put(n,{data:o}).then((t=>{this.getCart(),e.status.loadingItem=""}))},clearCart(){const t=this,a="https://vue3-course-api.hexschool.io/api/yozubook011/carts";this.$http.delete(a).then((a=>{t.getCart(),this.couponCode=""}))}},created(){this.getCart();const t=this;this.$emitter.on("sendProduct",(a=>{t.addCart=a}))}},Pt=e(1241);const Vt=(0,Pt.A)(qt,[["render",Ft],["__scopeId","data-v-47daeb82"]]);var It=Vt}},a={};function e(n){var o=a[n];if(void 0!==o)return o.exports;var r=a[n]={id:n,loaded:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}e.m=t,function(){e.amdO={}}(),function(){var t=[];e.O=function(a,n,o,r){if(!n){var i=1/0;for(d=0;d<t.length;d++){n=t[d][0],o=t[d][1],r=t[d][2];for(var l=!0,s=0;s<n.length;s++)(!1&r||i>=r)&&Object.keys(e.O).every((function(t){return e.O[t](n[s])}))?n.splice(s--,1):(l=!1,r<i&&(i=r));if(l){t.splice(d--,1);var c=o();void 0!==c&&(a=c)}}return a}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[n,o,r]}}(),function(){e.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(a,{a:a}),a}}(),function(){e.d=function(t,a){for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})}}(),function(){e.f={},e.e=function(t){return Promise.all(Object.keys(e.f).reduce((function(a,n){return e.f[n](t,a),a}),[]))}}(),function(){e.u=function(t){return"js/"+t+"."+{91:"1d0b5388",259:"16533034",425:"ef0d78e7",430:"913da096",474:"865be425",590:"35cc8644",603:"fa5d37dd",684:"b8f654ba",732:"640ea6ef",743:"8f4948db",751:"4aa0f46b",808:"753d89da",894:"3863e5b8",919:"0de183f2"}[t]+".js"}}(),function(){e.miniCssF=function(t){return"css/"+t+"."+{91:"99bd5372",430:"3a178354",474:"50da35b8",603:"d21e2c0a",684:"02c63270",751:"85610e93",919:"b409ebe2"}[t]+".css"}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){var t={},a="yozubook0.2:";e.l=function(n,o,r,i){if(t[n])t[n].push(o);else{var l,s;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==a+r){l=u;break}}l||(s=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,e.nc&&l.setAttribute("nonce",e.nc),l.setAttribute("data-webpack",a+r),l.src=n),t[n]=[o];var p=function(a,e){l.onerror=l.onload=null,clearTimeout(f);var o=t[n];if(delete t[n],l.parentNode&&l.parentNode.removeChild(l),o&&o.forEach((function(t){return t(e)})),a)return a(e)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),s&&document.head.appendChild(l)}}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){e.p="/yozubook.github.io/"}(),function(){if("undefined"!==typeof document){var t=function(t,a,n,o,r){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",e.nc&&(i.nonce=e.nc);var l=function(e){if(i.onerror=i.onload=null,"load"===e.type)o();else{var n=e&&e.type,l=e&&e.target&&e.target.href||a,s=new Error("Loading CSS chunk "+t+" failed.\n("+n+": "+l+")");s.name="ChunkLoadError",s.code="CSS_CHUNK_LOAD_FAILED",s.type=n,s.request=l,i.parentNode&&i.parentNode.removeChild(i),r(s)}};return i.onerror=i.onload=l,i.href=a,n?n.parentNode.insertBefore(i,n.nextSibling):document.head.appendChild(i),i},a=function(t,a){for(var e=document.getElementsByTagName("link"),n=0;n<e.length;n++){var o=e[n],r=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(r===t||r===a))return o}var i=document.getElementsByTagName("style");for(n=0;n<i.length;n++){o=i[n],r=o.getAttribute("data-href");if(r===t||r===a)return o}},n=function(n){return new Promise((function(o,r){var i=e.miniCssF(n),l=e.p+i;if(a(i,l))return o();t(n,l,null,o,r)}))},o={524:0};e.f.miniCss=function(t,a){var e={91:1,430:1,474:1,603:1,684:1,751:1,919:1};o[t]?a.push(o[t]):0!==o[t]&&e[t]&&a.push(o[t]=n(t).then((function(){o[t]=0}),(function(a){throw delete o[t],a})))}}}(),function(){var t={524:0};e.f.j=function(a,n){var o=e.o(t,a)?t[a]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise((function(e,n){o=t[a]=[e,n]}));n.push(o[2]=r);var i=e.p+e.u(a),l=new Error,s=function(n){if(e.o(t,a)&&(o=t[a],0!==o&&(t[a]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;l.message="Loading chunk "+a+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,o[1](l)}};e.l(i,s,"chunk-"+a,a)}},e.O.j=function(a){return 0===t[a]};var a=function(a,n){var o,r,i=n[0],l=n[1],s=n[2],c=0;if(i.some((function(a){return 0!==t[a]}))){for(o in l)e.o(l,o)&&(e.m[o]=l[o]);if(s)var d=s(e)}for(a&&a(n);c<i.length;c++)r=i[c],e.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return e.O(d)},n=self["webpackChunkyozubook0_2"]=self["webpackChunkyozubook0_2"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=e.O(void 0,[504],(function(){return e(286)}));n=e.O(n)})();
//# sourceMappingURL=app.b948f277.js.map