{"version":3,"file":"js/743.8f4948db.js","mappings":"mMACUA,MAAM,kB,GACTA,MAAM,8B,GACLA,MAAM,Y,GACTC,EAAAA,EAAAA,IAAiD,MAA7CD,MAAM,8BAA6B,SAAK,G,GACvCA,MAAM,Q,GACTC,EAAAA,EAAAA,IAA6D,SAAtDC,IAAI,aAAaF,MAAM,WAAU,iBAAa,G,GAWlDA,MAAM,Q,GACTC,EAAAA,EAAAA,IAA2D,SAApDC,IAAI,gBAAgBF,MAAM,WAAU,YAAQ,G,GAWhDA,MAAM,iB,0CA5BXG,EAAAA,EAAAA,IAiCC,MAjCDC,EAiCC,EAhCLH,EAAAA,EAAAA,IA+BO,OA/BPI,EA+BO,EA9BLJ,EAAAA,EAAAA,IA6BM,MA7BNK,EA6BM,CA5BJC,GACAN,EAAAA,EAAAA,IAWM,MAXNO,EAWM,CAVJC,GAA6D,SAC7DR,EAAAA,EAAAA,IAQE,SAPAS,KAAK,QACLC,GAAG,aACHX,MAAM,eACNY,YAAY,gBACZC,SAAA,GACAC,UAAA,GAbT,sBAAAC,EAAA,KAAAA,EAAA,GAAAC,GAcqBC,EAAAC,KAAKC,SAAQH,I,iBAAbC,EAAAC,KAAKC,eAGrBlB,EAAAA,EAAAA,IAUM,MAVNmB,EAUM,CATJC,GAA2D,SAC3DpB,EAAAA,EAAAA,IAOE,SANAS,KAAK,WACLC,GAAG,gBACHX,MAAM,eACNY,YAAY,WACZC,SAAA,GAxBT,sBAAAE,EAAA,KAAAA,EAAA,GAAAC,GAyBqBC,EAAAC,KAAKI,SAAQN,I,iBAAbC,EAAAC,KAAKI,eAIrBrB,EAAAA,EAAAA,IAEM,MAFNsB,EAEM,EADJtB,EAAAA,EAAAA,IAA0F,UAAlFD,MAAM,mCAAmCU,KAAK,SAAUc,QAAKT,EAAA,KAAAA,EAAA,OAAAU,IAAEC,EAAAC,QAAAD,EAAAC,UAAAF,KAAQ,a,aAQtF,GACIG,IAAAA,GACK,MAAM,CACFV,KAAK,CACFC,SAAS,GACTG,SAAS,IAGrB,EACAO,QAAQ,CACJF,MAAAA,GACIG,QAAQC,IAAI,SACZ,MAAMC,EAAM,oDACZF,QAAQC,IAAIC,GACZC,KAAKC,MAAMC,KAAKH,EAAIC,KAAKf,MACpBkB,MAAMC,IAClB,MAAM,MAACC,EAAK,QAACC,GAAWF,EAAIT,KAG5BY,SAASC,OAAU,YAAWH,aAAiB,IAAII,KAAKH,MACrDF,EAAIT,KAAKe,SACjBV,KAAKW,QAAQC,KAAK,sBACb,GAIG,GAEPC,OAAAA,GAES,MAAMR,EAAQE,SAASC,OAAOM,QAAQ,iDAAkD,MACxFd,KAAKC,MAAMc,SAASC,QAAQC,OAAOC,cAAiB,GAAEb,IACtD,MAAMN,EAAM,sDACXC,KAAKC,MAAMC,KAAKH,EAAIC,KAAKf,MACvBkB,MAAMC,IACMP,QAAQC,IAAIM,GACTA,EAAIT,KAAKe,QACTV,KAAKW,QAAQC,KAAK,uBAEvCZ,KAAKW,QAAQC,KAAK,SAClB,GAED,G,UC3EN,MAAMO,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://yozubook0.2/./src/views/back/Login.vue","webpack://yozubook0.2/./src/views/back/Login.vue?3241"],"sourcesContent":["<template>\n     <div class=\"container mt-5\">\n\t<form class=\"row justify-content-center\">\n\t  <div class=\"col-md-6\">\n\t    <h1 class=\"h3 mb-3 font-weight-normal\">管理者登入</h1>\n\t    <div class=\"mb-2\">\n\t      <label for=\"inputEmail\" class=\"sr-only\">Email address</label>\n\t      <input\n\t        type=\"email\"\n\t        id=\"inputEmail\"\n\t        class=\"form-control\"\n\t        placeholder=\"Email address\"\n\t        required\n\t        autofocus\n            v-model=\"user.username\"\n\t      />\n\t    </div>\n\t    <div class=\"mb-2\">\n\t      <label for=\"inputPassword\" class=\"sr-only\">Password</label>\n\t      <input\n\t        type=\"password\"\n\t        id=\"inputPassword\"\n\t        class=\"form-control\"\n\t        placeholder=\"Password\"\n\t        required\n            v-model=\"user.password\"\n\t      />\n\t    </div>\n\t\n\t    <div class=\"text-end mt-4\">\n\t      <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\" @click=\"signIn\">登入</button>\n\t    </div>\n\t  </div>\n\t</form>\n</div>\n</template>\n\n<script>\nexport default {\n    data(){\n         return{\n             user:{\n                username:\"\",\n                password:\"\",\n             }\n         }\n    },\n    methods:{\n        signIn(){\n            console.log('login');\n            const api =`${process.env.VUE_APP_API}/admin/signin`;\n            console.log(api);\n            this.$http.post(api,this.user)\n                .then((res)=>{\n\t\t\t\t\tconst {token,expired} = res.data; //定義兩個變數\n\t\t\t\t\n                \n\t\t\t\t\tdocument.cookie = `hexToken=${token};expires=${new Date(expired)};`;\n\t\t\t\t\tif(res.data.success){\nthis.$router.push('/dashboard/products');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\n                })\n        }\n    },\n\tcreated(){\n          // 從cookie 取得token的值\n          const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n          this.$http.defaults.headers.common.Authorization = `${token}`;\n          const api =`${process.env.VUE_APP_API}/api/user/check`;\n           this.$http.post(api,this.user)\n            .then((res)=>{\n                         console.log(res);\n                         if(res.data.success){\n                            this.$router.push('/Dashboard/Products');\n                         }else{\n\t\t\t\t\t\t\tthis.$router.push('/login');\n\t\t\t\t\t\t }\n            })\n      }\n\n}\n</script>","import { render } from \"./Login.vue?vue&type=template&id=239b0207\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","type","id","placeholder","required","autofocus","_cache","$event","$data","user","username","_hoisted_7","_hoisted_8","password","_hoisted_9","onClick","args","$options","signIn","data","methods","console","log","api","this","$http","post","then","res","token","expired","document","cookie","Date","success","$router","push","created","replace","defaults","headers","common","Authorization","__exports__","render"],"sourceRoot":""}