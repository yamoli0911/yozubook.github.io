{"version":3,"file":"js/919.0de183f2.js","mappings":"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","sources":["webpack://yozubook0.2/./src/views/front/BookAll.vue","webpack://yozubook0.2/./src/components/front/Card.vue","webpack://yozubook0.2/./src/components/front/Card.vue?f541","webpack://yozubook0.2/./src/views/front/BookAll.vue?b75b"],"sourcesContent":["<template>\n   <Loading :active=\"isLoading\" ></Loading>\n   \n\n   <br class=\"for-ph\"><br class=\"for-ph\"><br class=\"for-ph\">\n   <div class=\"row content \">\n  <div class=\"col-12\">\n    <div class=\"input-group mb-3\">\n  <input type=\"text\" class=\"form-control\"  v-model=\"search\" placeholder=\"輸入漫畫或小說名稱\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\">\n  \n</div>\n  </div>\n\n  </div>\n  <div class=\"row content\">\n    <div class=\" col-md-3 \">\n      <div class=\"form-check h3 title-bg-color shadow-sm p-2  rounded bg01  \"  >類別</div>\n    \n     <div :class=\"{'bg02': tagNow === item.value}\"   class=\"tagnow form-check shadow-sm p-2  bg-white rounded \" v-for=\"item in tagall\" >\n      <label class=\"form-check-label tagnow\" :for=\"item.id\">\n        <input  v-model=\"tagNow\" class=\"form-check-input\" type=\"radio\" :value=\"item.value\" id=\"item.id\" style=\"opacity:0\" >\n        \n          {{ item.name  }} \n        </label>\n      </div>\n    </div>\n    <div class=\"card-group col-md-9 \">\n      <Card :getCardProducts=\"products\" :getTagNow=\"tagNow\"  :getSearch=\"search\" ></Card>\n\n    </div>\n    \n  </div>\n  \n</template>\n\n<style scoped>\n   label{\n    width: 100%;\n   }\n   .tagnow{\n    cursor: pointer;\n    transition: 0.2s ;\n   }\n   @media screen  and (min-width:900px) {\n      .for-ph{\n        display: none;\n      }\n   }\n</style>\n\n<script>\n\nimport Card from \"@/components/front/Card.vue\";\nexport default{\n    components:{\n       Card\n    },\n    data(){\n      return{\n         products:[],\n          isLoading:false, //預設關閉\n         search:\"\",\n          tagall:[\n             {\n              name:'全部',\n              value:\"\"\n              },\n              {\n              name:'少年',\n              value:'少年'\n              },\n              {\n              name:'百合',\n              value:'百合'\n              },\n              {\n              name:'戀愛',\n              value:'戀愛'\n              },\n              {\n              name:'奇幻冒險',\n              value:'奇幻冒險'\n              },\n              {\n              name:'青春校園',\n              value:'青春校園'\n              },\n              {\n              name:'日常',\n              value:'日常'\n              },\n              {\n              name:'鬼神',\n              value:'鬼神'\n              },\n               {\n              name:'社會寫實',\n              value:'社會寫實'\n              },\n               {\n              name:'搞笑',\n              value:'搞笑'\n              },\n               {\n              name:'誤解系',\n              value:'誤解系'\n              },\n          ],       \n          tagNow:\"\",       \n      }\n    },\n    methods:{\n       getProducts(){\n             const vm = this;\n            \n             const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`;\n            console.log(api);\n            vm.isLoading=true;\n             this.$http.get(api).then((res)=>{\n                \n                 if(res.data.success){\n                    vm.products = res.data.products;\n                     console.log(vm.products.booktag);\n                  vm.isLoading=false;\n                 }\n                 else{\n                    alert(\"尚未得到\");\n                 }\n             })\n         },   \n        \n    },\n   \n    created(){\n       this.getProducts();\n    }\n  \n\n}\n\n</script>\n\n","<template>\n\n <div class=\"row row-cols-1 row-cols-md-3 g-2 w-100\">\n  <div class=\"col \" v-for=\"item in filterProducts\" :key=\"item\" v-show=\"(item.title.indexOf(search)!=-1) \" >\n     <div class=\"card \"  > \n                 \n                    <router-link  :to=\"`book/${item.id}`\"  src=\"#\" class=\"card-img-top cardimg\" :style=\"{backgroundImage: 'url('+ item.imageUrl +')'}\" alt=\"...\">\n                         <div class=\"tagbox tag d-flex justify-content-start\"> <span class=\"badge bg02 \" v-for=\"tag in item.booktag\" >{{tag}}</span></div>\n                         \n                        </router-link>\n                       <span class=\"badge bg-danger save\" @click=\"staredData(item)\"> <i :class=\"starColor(item)\"   class=\"fa fa-bookmark\" aria-hidden=\"true\"></i></span>\n                   \n                    \n                  \n                \n                    <div class=\"card-body\">\n                    <h5 class=\"card-title card-text\">{{item.title}}</h5>\n                    <p class=\"card-text\">售價: {{item.price}}元</p>\n                    <button class=\"cart-btn w-100 bg01\" @click=\"addCart(item.id)\"\n                     :disabled=\"status.loadingItem === item.id\"   >加入購物車 \n                  \n                     <div v-if=\"status.loadingItem === item.id\"  class=\"spinner-grow spinner-grow-sm\" role=\"status\">\n         <span class=\"visually-hidden\">Loading...</span>\n    </div>\n                     </button>\n                    </div>\n                     \n            </div>\n  </div>\n  \n</div>\n  \n\n</template>\n<style scoped>\n\n    .tagbox span{\n   margin-right:5px ;\n}\n     .cardimg{\n    width: 100%;\n    height: 380px;\n    background-size:cover;\n    background-position: top;\n    position: relative;\n }\n .tag{\n    width: 20%;\n    position: absolute;\n    bottom:1%;\n    left: 2%;\n    padding: 5px ;\n    \n   \n\n }\n\n \n\n</style>\n\n<script>\n\n\n\nexport default {\n    props:['getCardProducts','getTagNow','getSearch'],\n    data(){\n        return{\n            cardProduct:[],\n            //用來判斷讀取狀態\n            status:{\n                loadingItem:'',//對應品項ID\n            },\n            cardNow:\"\",\n            search:\"\",\n             stared: JSON.parse(localStorage.getItem(\"stared\")) || [],\n             stared_title:\"\",\n            \n        }\n    },\n    provide:{\n       toStatus:\"hi\"\n    },\n     watch:{\n         getCardProducts(){\n            this.cardProduct = this.getCardProducts;\n            \n          },\n          getTagNow(){\n            this.cardNow = this.getTagNow;\n \n          },\n          getSearch(){\n            this.search = this.getSearch;\n            console.log('hi'+this.getSearch);\n          }\n     },\n     methods:{\n        // 星星顏色顯示\n        \n    starColor(item) {\n      const vm = this;\n      let staredCompare = false;\n      staredCompare = vm.stared.some((it) => it.title === item.title);\n      if (staredCompare) {\n        return \"savenow\";\n      }\n      return \"\";\n    },\n        // 增加或移除關注漫畫資料\n    staredData(item) {\n        \n       const vm = this;\n          let isExit = false;\n          isExit = vm.stared.some((it) => it.title === item.title)\n          //假如已經存在就移除\n          if(isExit){\n             vm.stared = vm.stared.filter((it) => it.title !== item.title);\n             localStorage.setItem(\"stared\", JSON.stringify(vm.stared));\n             return;\n          }else{\n            vm.stared.push(item);\n          }\n       \n          // localStorage 儲存上次關注的漫畫\n          localStorage.setItem(\"stared\", JSON.stringify(vm.stared));\n    },\n        addCart(id){\n             const vm = this;\n             vm.status.loadingItem = id;\n            // 增添加入購物車的api  cart\n             const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n             //使用接收的id 定義資料與數量\n             const cart = {\n                 product_id: id, //傳進來的目標id\n                 qty: 1 ,//數量\n             };\n             \n             this.$http.post(api,{ data:cart }).then((res)=>{\n                vm.status.loadingItem = \"\";\n                 console.log(res);\n                 this.$emitter.emit('sendProduct',res.data);\n                 //前面是自定義事件名稱,後面是參數\n             })\n        },\n       \n     },\n     computed:{\n   \n          filterProducts(){\n         const vm = this;\n         if(!vm.cardNow.length){\n                return vm.cardProduct\n         }\n         return vm.cardProduct.filter((it) => it.booktag.includes(vm.cardNow));\n        \n      },\n     },\n    \n     created(){\n            this.cardProduct = this.getCardProducts;\n            this.cardNow = this.getTagNow;\n            this.search = this.getSearch;\n           \n     }\n}\n</script>\n\n","import { render } from \"./Card.vue?vue&type=template&id=c0d1de6e&scoped=true\"\nimport script from \"./Card.vue?vue&type=script&lang=js\"\nexport * from \"./Card.vue?vue&type=script&lang=js\"\n\nimport \"./Card.vue?vue&type=style&index=0&id=c0d1de6e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c0d1de6e\"]])\n\nexport default __exports__","import { render } from \"./BookAll.vue?vue&type=template&id=5bf546a8&scoped=true\"\nimport script from \"./BookAll.vue?vue&type=script&lang=js\"\nexport * from \"./BookAll.vue?vue&type=script&lang=js\"\n\nimport \"./BookAll.vue?vue&type=style&index=0&id=5bf546a8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5bf546a8\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_createElementBlock","_Fragment","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","type","_cache","$event","search","placeholder","_hoisted_7","_hoisted_8","_hoisted_9","_renderList","tagall","item","_normalizeClass","tagNow","value","for","id","style","_hoisted_11","_createTextVNode","_toDisplayString","name","_hoisted_10","_hoisted_12","_component_Card","getCardProducts","products","getTagNow","getSearch","key","role","$options","filterProducts","_component_router_link","to","src","_normalizeStyle","backgroundImage","imageUrl","alt","default","_withCtx","booktag","tag","_","onClick","staredData","starColor","title","price","addCart","disabled","status","loadingItem","_createCommentVNode","indexOf","props","data","cardProduct","cardNow","stared","JSON","parse","localStorage","getItem","stared_title","provide","toStatus","watch","this","console","log","methods","vm","staredCompare","some","it","isExit","filter","setItem","stringify","push","api","cart","product_id","qty","$http","post","then","res","$emitter","emit","computed","length","includes","created","__exports__","components","Card","getProducts","get","success","alert","render"],"sourceRoot":""}