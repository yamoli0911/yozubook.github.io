{"version":3,"file":"js/474.865be425.js","mappings":"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","sources":["webpack://yozubook0.2/./src/views/front/FavoriteView.vue","webpack://yozubook0.2/./src/components/front/favoriteCard.vue","webpack://yozubook0.2/./src/components/front/favoriteCard.vue?07fd","webpack://yozubook0.2/./src/views/front/FavoriteView.vue?0504"],"sourcesContent":["<template>\n\n  <div class=\"bg-img\">\n     <div class=\"title h1 bg01\">我的收藏書單</div>\n  </div>\n  <div class=\"favorite\">\n     <Card :getCardProducts=\"stared\" ></Card>\n  </div>\n</template>\n\n<script>\n\nimport Card from \"@/components/front/favoriteCard.vue\";\n\nexport default {\n  data(){\n    return{\n   \n       stared: JSON.parse(localStorage.getItem(\"stared\")) || []\n    }\n  },\n  components:{\n    Card\n  }\n}\n</script>\n\n<style scoped>\n .bg-img{\n  background-image: url(../../assets/img/save.png);\n  background-size:cover;\n  background-position: center;\n  height: 300px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color:#fff;\n }\n .title{\n  padding: 10px 10px;\n }\n .favorite{\n   width: 60%;\n   background: #fff;\n   margin: 0 auto;\n   position: relative;\n  top:-40px;\n  padding: 20px;\n  \n }\n</style>","<template>\n\n <div class=\"row row-cols-1 row-cols-md-3 g-2 w-100\">\n  <div class=\"col \" v-for=\"item in filterProducts\" :key=\"item\" >\n     <div class=\"card \"  > \n                 \n                    <router-link  :to=\"`book/${item.id}`\"  src=\"#\" class=\"card-img-top cardimg\" :style=\"{backgroundImage: 'url('+ item.imageUrl +')'}\" alt=\"...\">\n                         <div class=\"tagbox tag d-flex justify-content-start\"> <span class=\"badge bg02 \" v-for=\"tag in item.booktag\" >{{tag}}</span></div>\n                         \n                        </router-link>\n                       <span class=\"badge bg-danger save \"   @click=\"staredData(item)\"> <i    class=\"fa fa-bookmark savenow \" aria-hidden=\"true\"></i></span>\n                   \n                    \n                  \n                \n                    <div class=\"card-body\">\n                    <h5 class=\"card-title\">{{item.title}}</h5>\n                    <p class=\"card-text\">售價: {{item.price}}元</p>\n                    <button class=\"cart-btn w-100 bg01\" @click=\"addCart(item.id)\"\n                     :disabled=\"status.loadingItem === item.id\"   >加入購物車 \n                  \n                     <div v-if=\"status.loadingItem === item.id\"  class=\"spinner-grow spinner-grow-sm\" role=\"status\">\n         <span class=\"visually-hidden\">Loading...</span>\n    </div>\n                     </button>\n                    </div>\n                     \n            </div>\n  </div>\n  \n</div>\n  \n\n</template>\n<style scoped>\n\n    .tagbox span{\n   margin-right:5px ;\n}\n     .cardimg{\n    width: 100%;\n    height: 380px;\n    background-size:cover;\n    background-position: top;\n    position: relative;\n }\n .tag{\n    width: 20%;\n    position: absolute;\n    bottom:1%;\n    left: 2%;\n    padding: 5px ;\n    \n   \n\n }\n\n .save{\n      width: 20%;\n    position: absolute;\n    top:2%;\n    right: 2%;\n    padding: 5px ;\n    font-size:1.1em;\n    background: #FEECE2 !important;\n    cursor: pointer;\n  \n \n }\n .save i {\n    color:#ccc;\n }\n\n</style>\n\n<script>\n\nimport { Favorite } from '../../methods/favorite';\n\nexport default {\n    props:['getCardProducts'],\n    data(){\n        return{\n            cardProduct:[],\n            //用來判斷讀取狀態\n            status:{\n                loadingItem:'',//對應品項ID\n            },\n            cardNow:\"\",\n            search:\"\",\n             stared: JSON.parse(localStorage.getItem(\"stared\")) || []\n            \n        }\n    },\n  \n  \n     watch:{\n         getCardProducts(){\n            this.cardProduct = this.getCardProducts;\n            \n          },\n       \n      \n     },\n     methods:{\n        // 增加或移除關注城市資料\n    staredData(item) {\n        \n     const vm = this;\n         vm.stared = vm.stared.filter((it) => it.title !== item.title);\n             localStorage.setItem(\"stared\", JSON.stringify(vm.stared));\n            \n       window.location.reload();\n          // localStorage 儲存上次關注的漫畫\n          localStorage.setItem(\"stared\", JSON.stringify(vm.stared));\n          \n    },\n        addCart(id){\n             const vm = this;\n             vm.status.loadingItem = id;\n            // 增添加入購物車的api  cart\n             const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n             //使用接收的id 定義資料與數量\n             const cart = {\n                 product_id: id, //傳進來的目標id\n                 qty: 1 ,//數量\n             };\n             \n             this.$http.post(api,{ data:cart }).then((res)=>{\n                vm.status.loadingItem = \"\";\n                 this.$emitter.emit('sendProduct',res.data);\n             })\n        },\n       \n     },\n     computed:{\n   \n          filterProducts(){\n         const vm = this;\n         if(!vm.cardNow.length){\n                return vm.cardProduct\n         }\n         return vm.cardProduct.filter((it) => it.booktag.includes(vm.cardNow));\n        \n      },\n     },\n    \n     created(){\n            this.cardProduct = this.getCardProducts;\n         \n     }\n}\n</script>\n\n","import { render } from \"./favoriteCard.vue?vue&type=template&id=f7e4c7ac&scoped=true\"\nimport script from \"./favoriteCard.vue?vue&type=script&lang=js\"\nexport * from \"./favoriteCard.vue?vue&type=script&lang=js\"\n\nimport \"./favoriteCard.vue?vue&type=style&index=0&id=f7e4c7ac&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f7e4c7ac\"]])\n\nexport default __exports__","import { render } from \"./FavoriteView.vue?vue&type=template&id=71b2128c&scoped=true\"\nimport script from \"./FavoriteView.vue?vue&type=script&lang=js\"\nexport * from \"./FavoriteView.vue?vue&type=script&lang=js\"\n\nimport \"./FavoriteView.vue?vue&type=style&index=0&id=71b2128c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-71b2128c\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_createVNode","_component_Card","getCardProducts","$data","stared","_hoisted_6","key","role","_hoisted_13","_renderList","$options","filterProducts","item","_component_router_link","to","id","src","style","_normalizeStyle","backgroundImage","imageUrl","alt","default","_withCtx","_hoisted_3","booktag","tag","_hoisted_4","_toDisplayString","_","onClick","$event","staredData","_hoisted_7","_hoisted_5","_hoisted_8","_hoisted_9","title","_hoisted_10","price","addCart","disabled","status","loadingItem","_createTextVNode","_hoisted_12","_hoisted_14","_createCommentVNode","_hoisted_11","props","data","cardProduct","cardNow","search","JSON","parse","localStorage","getItem","watch","this","methods","vm","filter","it","setItem","stringify","window","location","reload","api","cart","product_id","qty","$http","post","then","res","$emitter","emit","computed","length","includes","created","__exports__","components","Card","render"],"sourceRoot":""}